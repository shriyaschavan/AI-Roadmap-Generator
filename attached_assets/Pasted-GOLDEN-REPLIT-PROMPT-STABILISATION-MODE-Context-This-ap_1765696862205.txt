GOLDEN REPLIT PROMPT â€” STABILISATION MODE
Context
This application is already working in production. Core features (roadmap generation, KPI framework, Mermaid Gantt chart rendering, hover tooltips, PDF/email, UI layout) must not be changed, removed, renamed, or re-architected.
However, there is inconsistent runtime behaviour:
â€¢	Sometimes all initiatives do not show KPIs
â€¢	Sometimes Gantt chart hover tooltips do not appear
â€¢	The same code works correctly in other runs
This indicates a timing / rendering / data-normalisation issue, not a feature gap.
________________________________________
ğŸ¯ OBJECTIVE (DO NOT DEVIATE)
Fix only the inconsistency so that:
1.	All initiatives always render KPI sections, even if some KPI fields are missing or empty
2.	Gantt chart hover tooltips always work, consistently, across refreshes and published runs
________________________________________
ğŸš« STRICT CONSTRAINTS (MANDATORY)
You MUST:
â€¢	âŒ NOT refactor architecture
â€¢	âŒ NOT introduce a â€œV2â€ pattern
â€¢	âŒ NOT rename files, functions, or templates
â€¢	âŒ NOT remove existing logic that currently works
â€¢	âŒ NOT change UI structure, layout, or styling
â€¢	âŒ NOT modify the roadmap generation prompt or business logic
You MAY ONLY:
â€¢	âœ… Add defensive checks / defaults
â€¢	âœ… Improve data normalisation before rendering
â€¢	âœ… Fix race conditions / timing issues
â€¢	âœ… Ensure Mermaid rendering and tooltip binding happen after DOM + data are fully ready
â€¢	âœ… Add minimal guards so partial data never breaks rendering
________________________________________
ğŸ” EXPECTED TECHNICAL APPROACH (GUIDANCE, NOT OPTIONAL)
Investigate and address:
â€¢	Conditional rendering that skips KPI blocks when fields are undefined
â€¢	JavaScript execution order (Mermaid render vs tooltip binding)
â€¢	Cases where initiatives exist but KPI sub-objects are missing
â€¢	Any async / deferred rendering causing intermittent failures
Ensure:
â€¢	KPI sections render even with placeholder or â€œNot availableâ€ values
â€¢	Tooltip event listeners are reliably attached after Mermaid finishes rendering
â€¢	Behaviour is deterministic across refreshes and published environments
________________________________________
ğŸ“¦ OUTPUT REQUIREMENTS
When finished, clearly explain:
1.	Root cause of the inconsistency
2.	Exact minimal changes made
3.	Why this does not affect existing working features
Do NOT output large code blocks unless strictly necessary.
________________________________________
âœ… DEFINITION OF DONE
â€¢	Same roadmap input produces the same output every time
â€¢	KPI framework always renders fully
â€¢	Gantt hover tooltips always appear
â€¢	No regressions anywhere else
