GOLDEN REPLIT PROMPT ‚Äî v1.2.1 STATE RESET FIX (STRICT MODE)
CONTEXT (READ CAREFULLY)
This application is already stable and released as v1.2.0.
Core functionality MUST remain unchanged, including:
‚Ä¢	AI Roadmap generation logic
‚Ä¢	KPI & Value Measurement Framework
‚Ä¢	Initiative structure and scoring
‚Ä¢	Mermaid Gantt timeline rendering
‚Ä¢	Hover tooltips
‚Ä¢	PDF download & email functionality
‚Ä¢	UI layout, styling, and component structure
A new hotfix branch (v1.2.1-state-reset-fix) has been created specifically to address one issue only.
________________________________________
‚ùó PROBLEM STATEMENT (THE ONLY ISSUE TO FIX)
When accessing the published app (even in incognito mode):
‚Ä¢	Previously entered organization data (e.g., organization name, industry, size, goals)
‚Ä¢	Previously generated roadmap content
continues to appear, even when the user expects a fresh state.
This indicates:
‚Ä¢	Server-side or client-side state persistence
‚Ä¢	Cached session / global variables / in-memory reuse
‚Ä¢	URL-based roadmap ID reuse
‚Ä¢	Missing state reset on new session or navigation
This is NOT a data correctness issue.
It is a state lifecycle / reset issue.
________________________________________
üéØ OBJECTIVE (DO NOT DEVIATE)
Ensure that:
1.	Each new visit to ‚ÄúGenerate New Roadmap‚Äù starts with a clean state
2.	No previous organization or roadmap data leaks into a new session
3.	Existing published roadmap URLs (e.g. /roadmap/:id) continue to work correctly
4.	Behaviour is deterministic across:
o	Hard refresh
o	Incognito mode
o	New browser sessions
o	Published Replit environment
________________________________________
üö´ STRICT CONSTRAINTS (MANDATORY)
You MUST NOT:
‚Ä¢	‚ùå Change architecture or introduce a V2 pattern
‚Ä¢	‚ùå Rename files, functions, routes, or components
‚Ä¢	‚ùå Modify roadmap generation prompts or AI logic
‚Ä¢	‚ùå Change UI layout, text, or styling
‚Ä¢	‚ùå Remove any logic that currently works
‚Ä¢	‚ùå Introduce new storage systems (DB, Redis, etc.)
You MAY ONLY:
‚Ä¢	‚úÖ Reset in-memory or session state at appropriate lifecycle points
‚Ä¢	‚úÖ Clear cached data when starting a new roadmap flow
‚Ä¢	‚úÖ Ensure server handlers do not reuse stale variables
‚Ä¢	‚úÖ Ensure client-side state initializes cleanly on load
‚Ä¢	‚úÖ Add minimal, defensive resets where state is reused unintentionally
________________________________________
üîç TECHNICAL GUIDANCE (EXPECTED APPROACH)
Investigate and fix only where necessary:
‚Ä¢	Global variables holding roadmap or org context
‚Ä¢	Express route handlers reusing previous request state
‚Ä¢	Session / memory objects not cleared on new requests
‚Ä¢	Client-side JS state not reinitialized on navigation
‚Ä¢	Reuse of roadmap IDs without explicit regeneration
‚Ä¢	Any caching headers or implicit persistence
Ensure:
‚Ä¢	/ or ‚ÄúGenerate New Roadmap‚Äù always initializes a fresh model
‚Ä¢	/roadmap/:id only loads data explicitly associated with that ID
‚Ä¢	No fallback to ‚Äúlast generated roadmap‚Äù
________________________________________
üì¶ OUTPUT REQUIREMENTS
When finished, clearly explain:
1.	Root cause of old values appearing
2.	Exact minimal changes made
3.	Where state is now reset
4.	Why this cannot affect existing working features
Do NOT output large code blocks unless absolutely necessary.
________________________________________
‚úÖ DEFINITION OF DONE
‚Ä¢	New users always see a blank, fresh form
‚Ä¢	No previous org name or roadmap leaks into new runs
‚Ä¢	Existing roadmap links still render correctly
‚Ä¢	No regressions in KPI rendering, Mermaid charts, or tooltips
‚Ä¢	Behaviour is identical across refreshes and sessions
________________________________________
‚ö†Ô∏è FINAL INSTRUCTION
This is a hotfix, not a refactor.
If you believe something ‚Äúshould be redesigned‚Äù, do not do it.
Fix the state reset. Nothing else.
________________________________________
